<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>üíñ</title>

<style>
:root{
  --blush:#f6c1cc;
  --cream:#fff6ec;
  --green:#3A5A40;
  --text:#6b4b4b;
}

*{
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}

body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:var(--cream);
  overflow:hidden;
  touch-action:manipulation;
}

/* ---------- SCREENS ---------- */
.screen{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:24px;
  transition:opacity .4s ease;
}

.hidden{
  opacity:0;
  pointer-events:none;
}

.fade{
  background:var(--blush);
}

h1{
  color:var(--text);
  font-size:1.6rem;
  line-height:1.4;
}

/* ---------- BUTTONS ---------- */
button{
  padding:16px 32px;
  border:none;
  border-radius:32px;
  font-size:18px;
  margin:10px;
}

.yes{
  background:var(--green);
  color:#fff;
}

.no{
  background:#EDE0D4;
  color:var(--text);
  position:fixed;
  transition:left .15s ease, top .15s ease;
}

/* ---------- GAME ---------- */
#guy{
  width:180px;
  height:180px;
  background:var(--blush);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:3.5rem;
  user-select:none;
}

.wobble{
  animation:wobble .3s;
}

@keyframes wobble{
  0%{transform:rotate(0)}
  25%{transform:rotate(-6deg) scale(1.05)}
  50%{transform:rotate(6deg) scale(1.05)}
  100%{transform:rotate(0)}
}

.pop{
  position:absolute;
  font-size:1.6rem;
  animation:pop .7s forwards;
  pointer-events:none;
}

@keyframes pop{
  to{transform:translateY(-35px) scale(1.3);opacity:0;}
}

/* ---------- EXPLOSION ---------- */
.explosion{
  position:fixed;
  font-size:2.4rem;
  animation:explode 1.1s ease forwards;
  pointer-events:none;
}

@keyframes explode{
  from{transform:scale(.3);opacity:1;}
  to{
    transform:
      translate(calc(var(--x)*1px),calc(var(--y)*1px))
      scale(1.6);
    opacity:0;
  }
}
</style>
</head>

<body>

<!-- SCREEN 1 -->
<div class="screen" id="screen1">
  <h1>Do you love me? ü•∫</h1>
  <button class="yes" onclick="goToGame()">Yes üíñ</button>
  <button class="no" id="noBtn">No -_-</button>
</div>

<!-- SCREEN 2 -->
<div class="screen hidden fade" id="screen2">
  <h1 id="gameMsg">Prove it üòè<br>Bonk me 10 times</h1>
  <div id="guy">üòä</div>
  <p id="counter">0 / 10</p>
</div>

<!-- SCREEN 3 -->
<div class="screen hidden" id="screen3">
  <h1>
    I was joking‚Ä¶ but also not üíó<br><br>
    Will you be my Valentine? üåπ
  </h1>
  <button class="yes" onclick="finalYes()">Yes üíû</button>
</div>

<!-- SCREEN 4 -->
<div class="screen hidden fade" id="screen4">
  <h1>
    Thank you for choosing me baby<br><br>
    I love you soo much babe this is nothing for a girl like u üíóüíó

  </h1>
</div>

<script>
/* ---------- RUNAWAY NO (DESKTOP + MOBILE) ---------- */
const noBtn = document.getElementById("noBtn");

function evade(x,y){
  const r=noBtn.getBoundingClientRect();
  const d=Math.hypot(
    x-(r.left+r.width/2),
    y-(r.top+r.height/2)
  );
  if(d<120){
    noBtn.style.left=Math.random()*(innerWidth-120)+"px";
    noBtn.style.top =Math.random()*(innerHeight-80)+"px";
  }
}

document.addEventListener("mousemove",e=>{
  evade(e.clientX,e.clientY);
});

document.addEventListener("touchstart",e=>{
  evade(e.touches[0].clientX,e.touches[0].clientY);
},{passive:false});

document.addEventListener("touchmove",e=>{
  evade(e.touches[0].clientX,e.touches[0].clientY);
},{passive:false});

/* ---------- SCREEN SWITCH ---------- */
function switchScreen(a,b){
  a.classList.add("hidden");
  setTimeout(()=>b.classList.remove("hidden"),300);
}

function goToGame(){
  switchScreen(screen1,screen2);
}

/* ---------- GAME ---------- */
let hits=0;
const guy=document.getElementById("guy");
const msg=document.getElementById("gameMsg");
const counter=document.getElementById("counter");

const faces=["üò≥","üòµ‚Äçüí´","ü•¥","üòñ","üòµ"];
const texts=[
  "Heyyy üòÖ","Heyyy üòÖ","Heyyy üòÖ",
  "Okay okay, I get it üòµ",
  "Okay okay, I get it üòµ",
  "Okay okay, I get it üòµ",
  "You‚Äôre enjoying this too much üò≠",
  "You‚Äôre enjoying this too much üò≠",
  "You‚Äôre enjoying this too much üò≠"
];

function bonk(e){
  e.preventDefault();
  if(hits>=10)return;

  hits++;
  counter.textContent=hits+" / 10";
  msg.textContent=texts[hits-1]||"";
  guy.textContent=faces[Math.random()*faces.length|0];

  guy.classList.remove("wobble");void guy.offsetWidth;
  guy.classList.add("wobble");

  const p=document.createElement("div");
  p.className="pop";
  p.textContent=Math.random()>0.5?"‚ù§Ô∏è":"‚≠ê";
  p.style.left=Math.random()*100+"px";
  p.style.top=Math.random()*80+"px";
  guy.appendChild(p);
  setTimeout(()=>p.remove(),700);

  popSound();

  if(hits===10){
    setTimeout(()=>switchScreen(screen2,screen3),600);
  }
}

guy.addEventListener("click",bonk);
guy.addEventListener("touchstart",bonk,{passive:false});

/* ---------- FINAL YES ---------- */
function finalYes(){
  for(let i=0;i<36;i++){
    const e=document.createElement("div");
    e.className="explosion";
    e.textContent=Math.random()>0.5?"‚ù§Ô∏è":"‚≠ê";
    e.style.left="50%";
    e.style.top="50%";
    e.style.setProperty("--x",Math.random()*700-350);
    e.style.setProperty("--y",Math.random()*700-350);
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),1100);
  }
  popSound();
  setTimeout(()=>switchScreen(screen3,screen4),1100);
}

/* ---------- SOUND ---------- */
function popSound(){
  const ctx=new(window.AudioContext||window.webkitAudioContext)();
  const o=ctx.createOscillator();
  const g=ctx.createGain();
  o.frequency.value=520;
  g.gain.value=.05;
  o.connect(g);g.connect(ctx.destination);
  o.start();o.stop(ctx.currentTime+.07);
}
</script>

</body>
</html>
